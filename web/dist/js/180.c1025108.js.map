{"version":3,"file":"js/180.c1025108.js","mappings":"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","sources":["webpack://web/./src/views/Login.vue","webpack://web/src/views/Login.vue","webpack://web/./src/views/Login.vue?7d1c","webpack://web/./src/views/Login.vue?a6ee"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"columns is-desktop is-centered\"},[_c('div',{staticClass:\"column is-4\"},[(_vm.setup)?[_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control has-icons-left has-icons-right\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user_name),expression:\"form.user_name\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"Name\",\"required\":\"\"},domProps:{\"value\":(_vm.form.user_name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form, \"user_name\", $event.target.value)}}}),_vm._m(0)])])]:_vm._e(),_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control has-icons-left has-icons-right\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user_email),expression:\"form.user_email\"}],staticClass:\"input\",attrs:{\"type\":\"email\",\"placeholder\":\"Email\",\"required\":\"\"},domProps:{\"value\":(_vm.form.user_email)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form, \"user_email\", $event.target.value)}}}),_vm._m(1)])]),_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control has-icons-left\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user_password),expression:\"form.user_password\"}],staticClass:\"input\",attrs:{\"type\":\"password\",\"placeholder\":\"Password\",\"required\":\"\"},domProps:{\"value\":(_vm.form.user_password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form, \"user_password\", $event.target.value)}}}),_vm._m(2)])]),_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control\"},[(!_vm.setup)?[_c('b-button',{attrs:{\"type\":\"submit is-danger is-light\",\"disabled\":_vm.form.button_disabled},on:{\"click\":_vm.loginEvent}},[_vm._v(\"Login\")])]:[_c('b-button',{attrs:{\"type\":\"is-danger is-light\",\"disabled\":_vm.form.button_disabled},on:{\"click\":_vm.setupEvent}},[_vm._v(\"Install Walrus\")])]],2)])],2)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small is-left\"},[_c('i',{staticClass:\"fas fa-user\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small is-left\"},[_c('i',{staticClass:\"fas fa-envelope\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"icon is-small is-left\"},[_c('i',{staticClass:\"fas fa-lock\"})])\n}]\n\nexport { render, staticRenderFns }","<!-- @format -->\n\n<template>\n\t<div class=\"columns is-desktop is-centered\">\n\t\t<div class=\"column is-4\">\n\t\t\t<template v-if=\"setup\">\n\t\t\t\t<div class=\"field\">\n\t\t\t\t\t<p class=\"control has-icons-left has-icons-right\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\t\tv-model=\"form.user_name\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span class=\"icon is-small is-left\">\n\t\t\t\t\t\t\t<i class=\"fas fa-user\"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<div class=\"field\">\n\t\t\t\t<p class=\"control has-icons-left has-icons-right\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\tv-model=\"form.user_email\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<span class=\"icon is-small is-left\">\n\t\t\t\t\t\t<i class=\"fas fa-envelope\"></i>\n\t\t\t\t\t</span>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div class=\"field\">\n\t\t\t\t<p class=\"control has-icons-left\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\tv-model=\"form.user_password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<span class=\"icon is-small is-left\">\n\t\t\t\t\t\t<i class=\"fas fa-lock\"></i>\n\t\t\t\t\t</span>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div class=\"field\">\n\t\t\t\t<p class=\"control\">\n\t\t\t\t\t<template v-if=\"!setup\">\n\t\t\t\t\t\t<b-button\n\t\t\t\t\t\t\ttype=\"submit is-danger is-light\"\n\t\t\t\t\t\t\tv-bind:disabled=\"form.button_disabled\"\n\t\t\t\t\t\t\t@click=\"loginEvent\"\n\t\t\t\t\t\t\t>Login</b-button\n\t\t\t\t\t\t>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<b-button\n\t\t\t\t\t\t\ttype=\"is-danger is-light\"\n\t\t\t\t\t\t\tv-bind:disabled=\"form.button_disabled\"\n\t\t\t\t\t\t\t@click=\"setupEvent\"\n\t\t\t\t\t\t\t>Install Walrus</b-button\n\t\t\t\t\t\t>\n\t\t\t\t\t</template>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"LoginPage\",\n\n\tdata() {\n\t\treturn {\n\t\t\tsetup: false,\n\n\t\t\tform: {\n\t\t\t\tuser_password: \"\",\n\t\t\t\tuser_email: \"\",\n\t\t\t\tuser_name: \"\",\n\t\t\t\tbutton_disabled: false,\n\t\t\t},\n\n\t\t\t// Loader\n\t\t\tloader: {\n\t\t\t\tisFullPage: true,\n\t\t\t\tref: null,\n\t\t\t},\n\t\t};\n\t},\n\n\tmethods: {\n\t\tloading() {\n\t\t\tthis.loader.ref = this.$buefy.loading.open({\n\t\t\t\tcontainer: this.loader.isFullPage ? null : this.$refs.element.$el,\n\t\t\t});\n\t\t},\n\n\t\tloginEvent() {\n\t\t\tthis.form.button_disabled = true;\n\n\t\t\tthis.$store\n\t\t\t\t.dispatch(\"auth/authAction\", {\n\t\t\t\t\temail: this.form.user_email,\n\t\t\t\t\tpassword: this.form.user_password,\n\t\t\t\t})\n\t\t\t\t.then(\n\t\t\t\t\t(response) => {\n\t\t\t\t\t\tthis.$buefy.toast.open({\n\t\t\t\t\t\t\tmessage: \"User logged in successfully\",\n\t\t\t\t\t\t\ttype: \"is-success\",\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tlocalStorage.setItem(\"user_api_key\", response.data.apiKey);\n\n\t\t\t\t\t\tlocalStorage.setItem(\"user_email\", response.data.email);\n\t\t\t\t\t\tlocalStorage.setItem(\"user_id\", response.data.id);\n\t\t\t\t\t\tlocalStorage.setItem(\"user_name\", response.data.name);\n\t\t\t\t\t\tthis.$router.push(\"/\");\n\t\t\t\t\t},\n\t\t\t\t\t(err) => {\n\t\t\t\t\t\tif (err.response.data.errorMessage) {\n\t\t\t\t\t\t\tthis.$buefy.toast.open({\n\t\t\t\t\t\t\t\tmessage: err.response.data.errorMessage,\n\t\t\t\t\t\t\t\ttype: \"is-danger\",\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$buefy.toast.open({\n\t\t\t\t\t\t\t\tmessage: \"Error status code: \" + err.response.status,\n\t\t\t\t\t\t\t\ttype: \"is-danger\",\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.form.button_disabled = false;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t},\n\t\tsetupEvent() {\n\t\t\tthis.form.button_disabled = true;\n\n\t\t\tthis.$store\n\t\t\t\t.dispatch(\"auth/setupAction\", {\n\t\t\t\t\tname: this.form.user_name,\n\t\t\t\t\temail: this.form.user_email,\n\t\t\t\t\tpassword: this.form.user_password,\n\t\t\t\t})\n\t\t\t\t.then(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tthis.$buefy.toast.open({\n\t\t\t\t\t\t\tmessage: \"Walrus installed successfully\",\n\t\t\t\t\t\t\ttype: \"is-success\",\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tthis.$router.push(\"/\");\n\t\t\t\t\t},\n\t\t\t\t\t(err) => {\n\t\t\t\t\t\tif (err.response.data.errorMessage) {\n\t\t\t\t\t\t\tthis.$buefy.toast.open({\n\t\t\t\t\t\t\t\tmessage: err.response.data.errorMessage,\n\t\t\t\t\t\t\t\ttype: \"is-danger is-light\",\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$buefy.toast.open({\n\t\t\t\t\t\t\t\tmessage: \"Error status code: \" + err.response.status,\n\t\t\t\t\t\t\t\ttype: \"is-danger is-light\",\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.form.button_disabled = false;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.loading();\n\n\t\tthis.$store.dispatch(\"auth/fetchInfo\").then(\n\t\t\t() => {\n\t\t\t\tlet info = this.$store.getters[\"auth/getTowerInfo\"];\n\n\t\t\t\tif (!info.setupStatus) {\n\t\t\t\t\tthis.setup = true;\n\n\t\t\t\t\tthis.$buefy.toast.open({\n\t\t\t\t\t\tmessage: \"Walrus not installed yet, Please setup the application!\",\n\t\t\t\t\t\ttype: \"is-info is-light\",\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.loader.ref.close();\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tthis.$buefy.toast.open({\n\t\t\t\t\tmessage: err.response.data.errorMessage,\n\t\t\t\t\ttype: \"is-danger is-light\",\n\t\t\t\t});\n\n\t\t\t\tthis.loader.ref.close();\n\t\t\t}\n\t\t);\n\t},\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=50916d32&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","setup","directives","name","rawName","value","form","user_name","expression","attrs","domProps","on","$event","target","composing","$set","_m","_e","user_email","user_password","button_disabled","setupEvent","_v","loginEvent","staticRenderFns","data","loader","isFullPage","ref","methods","loading","$buefy","open","container","$refs","element","$el","$store","dispatch","email","password","then","response","toast","message","type","localStorage","setItem","apiKey","id","$router","push","err","errorMessage","status","mounted","info","getters","setupStatus","close","component"],"sourceRoot":""}