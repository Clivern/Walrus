{"version":3,"file":"js/405.d3b391e4.js","mappings":"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","sources":["webpack://web/./src/views/Login.vue?1e7d","webpack://web/src/views/Login.vue","webpack://web/./src/views/Login.vue?3c97","webpack://web/./src/views/Login.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns is-desktop is-centered\"},[_c('div',{staticClass:\"column is-4\"},[(_vm.setup)?[_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control has-icons-left has-icons-right\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user_name),expression:\"form.user_name\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"Name\",\"required\":\"\"},domProps:{\"value\":(_vm.form.user_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"user_name\", $event.target.value)}}}),_vm._m(0)])])]:_vm._e(),_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control has-icons-left has-icons-right\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user_email),expression:\"form.user_email\"}],staticClass:\"input\",attrs:{\"type\":\"email\",\"placeholder\":\"Email\",\"required\":\"\"},domProps:{\"value\":(_vm.form.user_email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"user_email\", $event.target.value)}}}),_vm._m(1)])]),_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control has-icons-left\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user_password),expression:\"form.user_password\"}],staticClass:\"input\",attrs:{\"type\":\"password\",\"placeholder\":\"Password\",\"required\":\"\"},domProps:{\"value\":(_vm.form.user_password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"user_password\", $event.target.value)}}}),_vm._m(2)])]),_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control\"},[(!_vm.setup)?[_c('b-button',{attrs:{\"type\":\"submit is-danger is-light\",\"disabled\":_vm.form.button_disabled},on:{\"click\":_vm.loginEvent}},[_vm._v(\"Login\")])]:[_c('b-button',{attrs:{\"type\":\"is-danger is-light\",\"disabled\":_vm.form.button_disabled},on:{\"click\":_vm.setupEvent}},[_vm._v(\"Install Walrus\")])]],2)])],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small is-left\"},[_c('i',{staticClass:\"fas fa-user\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small is-left\"},[_c('i',{staticClass:\"fas fa-envelope\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small is-left\"},[_c('i',{staticClass:\"fas fa-lock\"})])}]\n\nexport { render, staticRenderFns }","<!-- @format -->\n\n<template>\n\t<div class=\"columns is-desktop is-centered\">\n\t\t<div class=\"column is-4\">\n\t\t\t<template v-if=\"setup\">\n\t\t\t\t<div class=\"field\">\n\t\t\t\t\t<p class=\"control has-icons-left has-icons-right\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\t\tv-model=\"form.user_name\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span class=\"icon is-small is-left\">\n\t\t\t\t\t\t\t<i class=\"fas fa-user\"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<div class=\"field\">\n\t\t\t\t<p class=\"control has-icons-left has-icons-right\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\tv-model=\"form.user_email\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<span class=\"icon is-small is-left\">\n\t\t\t\t\t\t<i class=\"fas fa-envelope\"></i>\n\t\t\t\t\t</span>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div class=\"field\">\n\t\t\t\t<p class=\"control has-icons-left\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\tv-model=\"form.user_password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<span class=\"icon is-small is-left\">\n\t\t\t\t\t\t<i class=\"fas fa-lock\"></i>\n\t\t\t\t\t</span>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div class=\"field\">\n\t\t\t\t<p class=\"control\">\n\t\t\t\t\t<template v-if=\"!setup\">\n\t\t\t\t\t\t<b-button\n\t\t\t\t\t\t\ttype=\"submit is-danger is-light\"\n\t\t\t\t\t\t\tv-bind:disabled=\"form.button_disabled\"\n\t\t\t\t\t\t\t@click=\"loginEvent\"\n\t\t\t\t\t\t\t>Login</b-button\n\t\t\t\t\t\t>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<b-button\n\t\t\t\t\t\t\ttype=\"is-danger is-light\"\n\t\t\t\t\t\t\tv-bind:disabled=\"form.button_disabled\"\n\t\t\t\t\t\t\t@click=\"setupEvent\"\n\t\t\t\t\t\t\t>Install Walrus</b-button\n\t\t\t\t\t\t>\n\t\t\t\t\t</template>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"LoginPage\",\n\n\tdata() {\n\t\treturn {\n\t\t\tsetup: false,\n\n\t\t\tform: {\n\t\t\t\tuser_password: \"\",\n\t\t\t\tuser_email: \"\",\n\t\t\t\tuser_name: \"\",\n\t\t\t\tbutton_disabled: false,\n\t\t\t},\n\n\t\t\t// Loader\n\t\t\tloader: {\n\t\t\t\tisFullPage: true,\n\t\t\t\tref: null,\n\t\t\t},\n\t\t};\n\t},\n\n\tmethods: {\n\t\tloading() {\n\t\t\tthis.loader.ref = this.$buefy.loading.open({\n\t\t\t\tcontainer: this.loader.isFullPage ? null : this.$refs.element.$el,\n\t\t\t});\n\t\t},\n\n\t\tloginEvent() {\n\t\t\tthis.form.button_disabled = true;\n\n\t\t\tthis.$store\n\t\t\t\t.dispatch(\"auth/authAction\", {\n\t\t\t\t\temail: this.form.user_email,\n\t\t\t\t\tpassword: this.form.user_password,\n\t\t\t\t})\n\t\t\t\t.then(\n\t\t\t\t\t(response) => {\n\t\t\t\t\t\tthis.$buefy.toast.open({\n\t\t\t\t\t\t\tmessage: \"User logged in successfully\",\n\t\t\t\t\t\t\ttype: \"is-success\",\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tlocalStorage.setItem(\"user_api_key\", response.data.apiKey);\n\n\t\t\t\t\t\tlocalStorage.setItem(\"user_email\", response.data.email);\n\t\t\t\t\t\tlocalStorage.setItem(\"user_id\", response.data.id);\n\t\t\t\t\t\tlocalStorage.setItem(\"user_name\", response.data.name);\n\t\t\t\t\t\tthis.$router.push(\"/\");\n\t\t\t\t\t},\n\t\t\t\t\t(err) => {\n\t\t\t\t\t\tif (err.response.data.errorMessage) {\n\t\t\t\t\t\t\tthis.$buefy.toast.open({\n\t\t\t\t\t\t\t\tmessage: err.response.data.errorMessage,\n\t\t\t\t\t\t\t\ttype: \"is-danger\",\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$buefy.toast.open({\n\t\t\t\t\t\t\t\tmessage: \"Error status code: \" + err.response.status,\n\t\t\t\t\t\t\t\ttype: \"is-danger\",\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.form.button_disabled = false;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t},\n\t\tsetupEvent() {\n\t\t\tthis.form.button_disabled = true;\n\n\t\t\tthis.$store\n\t\t\t\t.dispatch(\"auth/setupAction\", {\n\t\t\t\t\tname: this.form.user_name,\n\t\t\t\t\temail: this.form.user_email,\n\t\t\t\t\tpassword: this.form.user_password,\n\t\t\t\t})\n\t\t\t\t.then(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tthis.$buefy.toast.open({\n\t\t\t\t\t\t\tmessage: \"Walrus installed successfully\",\n\t\t\t\t\t\t\ttype: \"is-success\",\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tthis.$router.push(\"/\");\n\t\t\t\t\t},\n\t\t\t\t\t(err) => {\n\t\t\t\t\t\tif (err.response.data.errorMessage) {\n\t\t\t\t\t\t\tthis.$buefy.toast.open({\n\t\t\t\t\t\t\t\tmessage: err.response.data.errorMessage,\n\t\t\t\t\t\t\t\ttype: \"is-danger is-light\",\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$buefy.toast.open({\n\t\t\t\t\t\t\t\tmessage: \"Error status code: \" + err.response.status,\n\t\t\t\t\t\t\t\ttype: \"is-danger is-light\",\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.form.button_disabled = false;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.loading();\n\n\t\tthis.$store.dispatch(\"auth/fetchInfo\").then(\n\t\t\t() => {\n\t\t\t\tlet info = this.$store.getters[\"auth/getTowerInfo\"];\n\n\t\t\t\tif (!info.setupStatus) {\n\t\t\t\t\tthis.setup = true;\n\n\t\t\t\t\tthis.$buefy.toast.open({\n\t\t\t\t\t\tmessage: \"Walrus not installed yet, Please setup the application!\",\n\t\t\t\t\t\ttype: \"is-info is-light\",\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.loader.ref.close();\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tthis.$buefy.toast.open({\n\t\t\t\t\tmessage: err.response.data.errorMessage,\n\t\t\t\t\ttype: \"is-danger is-light\",\n\t\t\t\t});\n\n\t\t\t\tthis.loader.ref.close();\n\t\t\t}\n\t\t);\n\t},\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=50916d32&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","form","expression","attrs","domProps","on","$event","target","composing","$set","_m","_e","setup","button_disabled","setupEvent","_v","loginEvent","staticRenderFns","data","user_password","user_email","user_name","loader","isFullPage","ref","methods","loading","container","dispatch","email","password","then","response","message","type","localStorage","err","mounted","component"],"sourceRoot":""}